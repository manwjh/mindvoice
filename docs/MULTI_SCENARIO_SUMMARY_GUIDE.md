# 多场景小结功能使用指南

## 功能概述

MindVoice v3.0 新增了多场景智能小结功能，支持 6 种不同的使用场景，每种场景都有专门优化的 AI 提示词，能够根据内容特点生成最适合的小结格式。

## 支持的场景类型

| 场景类型 | 图标 | 适用场景 | 输出特点 |
|---------|------|---------|---------|
| **会议纪要** 📊 | Meeting | 商务会议、项目讨论、团队协作 | 决策、待办、责任人、风险提示 |
| **日记随笔** 📝 | Diary | 个人日记、生活记录、思考感悟 | 情感、反思、成长、期待 |
| **演讲课程** 🎓 | Lecture | 讲座、培训、课堂笔记、学习 | 知识框架、核心观点、重点难点 |
| **访谈记录** 💬 | Interview | 采访、对话、问答、专访 | 问答对、观点、精彩引用 |
| **读书笔记** 📚 | Reading | 书籍阅读、论文研读、文章摘录 | 金句、启发、书评、关联思考 |
| **创意灵感** 💡 | Brainstorm | 头脑风暴、创意记录、想法整理 | 核心创意、关联、可行性分析 |

## 使用方法

### 1. 录制或输入内容

在语音笔记（Voice Note）应用中：
- 点击录音按钮开始语音录制
- 或者直接手动输入文字内容

### 2. 选择小结场景类型

在底部工具栏找到"小结"按钮：
- 点击按钮会弹出场景选择菜单
- 选择最符合当前内容的场景类型
- 当前选择的场景会显示对应的图标

### 3. 生成小结

- 选择场景类型后会自动触发小结生成
- 或者选择后再次点击按钮手动触发
- 生成过程为流式输出，可以实时看到小结内容
- 生成完成后，小结会自动添加到笔记末尾

### 4. 查看和编辑

- 生成的小结会以特殊的 block 形式显示
- 可以像普通文本一样编辑小结内容
- 小结会被标记，避免重复生成

## 场景详细说明

### 📊 会议纪要（Meeting）

**适用场景**：
- 商务会议、项目讨论
- 团队协作、决策会议
- 部门例会、季度总结

**输出结构**：
```
📌 会议主题：简明扼要的主题
👥 参会人员：关键人物及角色（如有提及）
💡 核心决策：已确定的决策（明确内容、影响、依据）
💬 讨论要点：重要讨论内容、不同观点
✅ 待办事项：任务、负责人、截止时间
⚠️ 风险提示：潜在问题和风险
🎯 下次安排：后续会议或关键节点
```

**特点**：
- 强调决策和行动计划
- 明确责任人和时间节点
- 识别潜在风险和挑战
- 专业、可执行

### 📝 日记随笔（Diary）

**适用场景**：
- 个人日记、生活记录
- 思考感悟、心情随笔
- 成长记录、自我反思

**输出结构**：
```
📝 今日纪要：用一句话概括这一天
🌟 重要事件：记录值得记住的事情（2-3条）
💭 情感体验：捕捉主要的情绪和感受
🌱 反思成长：从经历中提炼的思考或启发
🎯 明日期待：对未来的计划或期望（如有）
```

**特点**：
- 保留情感表达和个人化语言
- 关注情绪和心理变化
- 挖掘成长和启发点
- 温暖、真诚、私密

### 🎓 演讲课程（Lecture）

**适用场景**：
- 讲座、培训、课堂
- 在线课程、知识分享
- 技术演讲、产品发布

**输出结构**：
```
🎓 主题概要：课程/演讲的核心主题
📚 知识框架：主要章节或模块（按逻辑顺序）
💡 核心观点：关键论点和结论（3-5条）
🔑 重点难点：需要重点理解或复习的内容
📝 金句摘录：精彩语录或重要表述
💭 个人思考：听后的理解和疑问（如有记录）
🔗 延伸思考：知识点之间的联系或应用场景
```

**特点**：
- 结构化知识点整理
- 突出重点和难点
- 便于复习和回顾
- 逻辑清晰、系统完整

### 💬 访谈记录（Interview）

**适用场景**：
- 人物采访、专访
- 用户访谈、问答
- 对话记录、调研

**输出结构**：
```
💬 访谈概况：受访者身份、访谈主题、背景
🎯 核心议题：主要讨论的3-5个问题
💡 精彩观点：受访者的独特见解（可适当引用原话）
📊 关键信息：重要数据、事实、案例
🌟 金句摘录：值得记录的精彩表达
📝 延伸思考：值得进一步探讨的话题
```

**特点**：
- 保留受访者表达风格
- 提炼核心观点和见解
- 突出精彩引用
- 忠实原意、生动有趣

### 📚 读书笔记（Reading）

**适用场景**：
- 书籍阅读、论文研读
- 文章摘录、资料整理
- 学习笔记、知识积累

**输出结构**：
```
📚 书籍信息：书名、作者、主题（如有提及）
🎯 核心主旨：一句话概括书籍的中心思想
💡 关键观点：书中的重要论点（3-5条）
🌟 金句摘录：值得收藏的精彩段落
💭 个人启发：阅读后的思考和收获
🔗 关联思考：与其他知识的联系或实际应用
⭐ 阅读价值：对这本书的评价（如有表达）
```

**特点**：
- 深度思考和个人理解
- 记录金句和启发
- 建立知识关联
- 个人化、启发性

### 💡 创意灵感（Brainstorm）

**适用场景**：
- 头脑风暴、创意讨论
- 灵感记录、想法整理
- 创新思考、方案构思

**输出结构**：
```
💡 灵感主题：这次头脑风暴的中心议题
🌟 核心创意：最有价值的3-5个想法
🔗 关联思考：想法之间的联系和组合可能
✅ 可行性分析：评估哪些想法可以落地
🚀 行动建议：下一步可以做什么
📝 待完善：需要进一步思考的点
```

**特点**：
- 开放包容所有想法
- 发现想法之间的关联
- 评估可行性和价值
- 鼓励创新、实用导向

## 技术实现

### 前端架构

```typescript
// 组件：SummaryTypeSelector
// 位置：electron-app/src/components/shared/SummaryTypeSelector.tsx

export type SummaryType = 
  | 'meeting' | 'diary' | 'lecture' 
  | 'interview' | 'reading' | 'brainstorm';

// 使用下拉菜单选择场景类型
// 选择后自动触发生成
```

### 后端架构

```python
# API 端点：POST /api/summary/generate
# 请求参数：
{
  "message": "待小结的内容",
  "summary_type": "meeting",  # 场景类型
  "temperature": 0.5,
  "max_tokens": 2500,
  "stream": true
}

# Agent：SummaryAgent
# 提示词：src/agents/prompts/summary_agent.yml
# 每种场景对应一个 variant
```

### 提示词架构

每种场景在 `summary_agent.yml` 中都有专门的 variant：
- `meeting`: 会议纪要提示词
- `diary`: 日记随笔提示词
- `lecture`: 演讲课程提示词
- `interview`: 访谈记录提示词
- `reading`: 读书笔记提示词
- `brainstorm`: 创意灵感提示词

每个 variant 都针对场景特点优化了：
- ASR 文本处理策略
- 输出结构和格式
- 语言风格和语气
- 信息提取重点

## 使用建议

### 选择合适的场景

| 如果你的内容包含... | 推荐选择 |
|------------------|---------|
| 决策、任务、责任人 | 📊 会议纪要 |
| 情感、反思、个人感受 | 📝 日记随笔 |
| 知识点、概念、理论 | 🎓 演讲课程 |
| 问答、对话、观点 | 💬 访谈记录 |
| 书籍内容、金句、启发 | 📚 读书笔记 |
| 想法、创意、头脑风暴 | 💡 创意灵感 |

### 优化小结质量

1. **提供上下文**：在笔记信息（note info）中填写标题、类型、人员等信息
2. **内容清晰**：尽量使用完整的句子，避免过多的口语化表达
3. **信息完整**：包含关键的人名、时间、数字等信息
4. **选对场景**：根据内容特点选择最合适的场景类型

### 编辑和优化

生成的小结可以：
- 直接编辑修改内容
- 删除不需要的部分
- 添加补充信息
- 重新生成（会替换旧的小结）

## 常见问题

### Q: 生成的小结不满意怎么办？

A: 可以尝试：
1. 切换到更合适的场景类型
2. 在笔记信息中补充更多上下文
3. 手动编辑小结内容
4. 删除后重新生成

### Q: 多次生成会有多个小结吗？

A: 不会。每次生成小结都会：
1. 先移除旧的小结块
2. 然后生成新的小结
3. 保证只有一个小结存在

### Q: 可以自定义场景类型吗？

A: 当前版本支持 6 种预设场景。未来版本计划支持：
- 自定义模板
- 用户自定义提示词
- 更多预设场景

### Q: 生成失败怎么办？

A: 检查：
1. API 服务是否运行正常
2. 内容是否为空
3. 网络连接是否正常
4. 查看错误提示信息

### Q: 对 ASR 文本的处理效果如何？

A: 所有场景都会自动处理 ASR 文本的常见问题：
- 谐音字错误（人名、公司名、术语）
- 口语化表达（嗯、啊、那个等）
- 数字和日期识别错误
- 断句和标点问题

## 版本历史

### v3.0.0 (2026-01-06)
- ✨ 新增多场景小结功能
- 🎯 支持 6 种场景类型
- 🎨 全新的场景选择器 UI
- 📝 每种场景专门优化的提示词
- 🔄 流式输出，实时显示生成过程

### 未来计划
- 📋 自定义模板支持
- 🌐 多语言小结
- 📊 小结质量评分
- 🤖 智能推荐场景类型
- 💾 小结模板导入导出

## 反馈与建议

如果你有任何建议或发现问题，欢迎联系：
- 邮箱：manwjh@126.com
- 项目：MindVoice 语音桌面助手

---

**开发团队**：深圳王哥 & AI  
**最后更新**：2026-01-06

